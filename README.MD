# Documentation de l'application Calendar

## Aper√ßu

Cette documentation fournit un aper√ßu de l'application Calendar construite en utilisant un mod√®le dockeris√© pour Laravel et Nuxt. Elle inclut les instructions d'installation, les d√©tails de la stack, la communication r√©seau, et comment l'API et l'application interagissent.

## üç¨ Aper√ßu de la Stack

### API
- **Framework**: Laravel (version la plus r√©cente) + serveur Octane
- **Base de donn√©es**: PostgreSQL
- **Cache**: Redis
- **Mail**: Mailpit
- **Stockage**: Minio (compatible S3)

### WEB
- **Framework**: Nuxt (version la plus r√©cente)

### Proxy inverse
- **Serveur**: Traefik

## ‚öô Installation

### Cloner le d√©p√¥t
```bash
git clone https://github.com/votre-repo/calendar-app.git
```

### Installer les composants
Suivez les instructions d'installation pour chaque composant :
- API
- WEB
- [Proxy inverse](reverse-proxy/README.md) (optionnel pour le d√©veloppement local)

### Installation de l'API

#### Installation automatique
Ex√©cutez le script d'installation pour automatiser le processus :
```bash
./install.sh
```
Ce script installe une application Laravel avec Octane

#### Construction des images
Pour l'environnement  de dev :
```bash
docker compose -f compose.yaml build
```

#### D√©marrer les conteneurs
```bash
docker compose -f compose.yaml up
```

Visitez [http://localhost:8000](http://localhost:8000).

#### Arr√™ter les conteneurs
```bash
docker compose -f compose.local.yaml down
```

### Installation du WEB

installez les d√©pendances et d√©marrez l'application Nuxt :

```bash
 cd web && yarn install && yarn run dev
```

Visitez [http://localhost:3000](http://localhost:3000).


### Arr√™ter les conteneurs
```bash
docker compose -f compose.local.yaml down
```

## üîå Communication r√©seau

![R√©seautage](.github/img/networking.png)

Dans un environnement de d√©veloppement local, les requ√™tes API et WEB envoy√©es par le navigateur sont proxyfi√©es via des ports publi√©s vers les instances de serveurs en cours d'ex√©cution. Les requ√™tes SSR, envoy√©es par le serveur node, doivent √™tre dirig√©es vers l'h√¥te du service docker de l'API. Pour la production, configurez un serveur de proxy inverse pour g√©rer toutes les requ√™tes entrantes.

## Aper√ßu de l'application

### API

L'API est construite en utilisant Laravel, en tirant parti d'Octane pour des performances am√©lior√©es. Elle utilise PostgreSQL pour la base de donn√©es, Redis pour la mise en cache, Mailpit pour le test des emails en environnement local et Minio pour le stockage compatible S3.

Caract√©ristiques principales :
- **Laravel Octane** pour des performances √©lev√©es
- **PostgreSQL** comme base de donn√©es principale
- **Redis** pour la mise en cache et les files d'attente
- **Mailpit** pour le test des emails en local
- **Minio** pour le stockage d'objets

### WEB

L'application web est construite en utilisant Nuxt.js, un framework puissant bas√© sur Vue.js. Nuxt permet de cr√©er des applications universelles, g√©n√©r√©es statiquement ou rendues c√¥t√© serveur (SSR), offrant une flexibilit√© et des performances am√©lior√©es.

Caract√©ristiques principales :
- **Nuxt.js** pour le rendu c√¥t√© serveur et les applications universelles
- **Communication API** avec Laravel pour r√©cup√©rer les donn√©es
- **Gestion de l'√©tat** avec Pinia ou Vuex
- **Support de TypeScript** pour un d√©veloppement plus robuste

## Fonctionnement de l'API et de l'application

### Communication entre API et Application

- **Requ√™tes API**: Les requ√™tes du navigateur pour l'API et l'application WEB sont envoy√©es via des ports publi√©s directement aux instances de serveur en cours d'ex√©cution.
- **Requ√™tes SSR**: Pour les requ√™tes de rendu c√¥t√© serveur, le serveur node envoie les requ√™tes directement √† l'h√¥te du service docker de l'API.

### Flux de donn√©es

1. **L'utilisateur interagit** avec l'application Nuxt dans le navigateur.
2. **Nuxt envoie des requ√™tes** √† l'API Laravel pour r√©cup√©rer ou envoyer des donn√©es.
3. **Laravel traite les requ√™tes** et interagit avec PostgreSQL, Redis, ou Minio selon les besoins.
4. **Les r√©ponses de l'API** sont renvoy√©es √† Nuxt pour mettre √† jour l'interface utilisateur.
5. **Nuxt peut effectuer un rendu c√¥t√© serveur** (SSR) pour am√©liorer les performances et le r√©f√©rencement (SEO).

Cette documentation fournit les bases n√©cessaires pour comprendre et utiliser l'application Calendar. Pour des d√©tails plus sp√©cifiques sur l'impl√©mentation du code ou les fonctionnalit√©s avanc√©es, r√©f√©rez-vous aux fichiers README de chaque composant (API, WEB, Proxy inverse).
